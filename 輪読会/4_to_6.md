前回記事：[輪読会メモ：リーダブルコード（第1~3章）](https://qiita.com/takumi_links/items/34e98d7dbbe0532a69d1)の続きになります。
今回は第4章～第6章まで。

## 第4章：美しさ
> **4.1 なぜ美しさが大切なのか？**
　**見た目が美しいコードのほうが使いやすいのは明らかだ。考えてみれば、プログラミングの時間のほとんどはコードを読む時間なのだッ！**
（「リーダブルコード」p.43~44より）
  - プログラムを読む時間の方が書く時間より圧倒的に多いことは大いに同意で、今のプロジェクトではフォーマッタ等が導入できておらず一目でみても分からないコードが散見している・・・
    - インデント（スペース or タブ、何文字分開けるか等）に対して無頓着なメンバーもいるが、ここは早急に考えを改めてもらい、改善していかないといけない。（負の遺産が増え続ける）

> **4.2 一貫性のある簡潔な改行位置**  
（「リーダブルコード」p.44より）
  - 改行するときは、`(`を書いてから改行する、改行したらスペース4個あける 等の統一したルールは必要そう
  - PHPでもJavaでも（ほかの言語でも）一般的にフォーマッタは出回っているので、プロジェクトでフォーマットについて明確に決めないと、個々人での好みが反映されたコードが乱立してしまう。。

> **4.6 宣言をブロックにまとめる**  
  **4.7 コードを「段落」に分割する**  
（「リーダブルコード」p.50~52より）
- 処理を「ブロック」単位、「段落単位」に分けて記述するのはとても分かりやすいと感じる。すぐにでも実践したい内容
- 適切に**空行**を使い、処理ブロックごとに論理的な段落分けをするのはとても処理が追いやすいので、今後のレビュー観点にも取り入れたい

## 第5章：コメントすべきことを知る
> **2.1 明確な単語を選ぶ**  
  **2.2 tmpやretvalなどの汎用的な名前を避ける**
（「リーダブルコード」p.10~15より）
  - 「～を取得する」処理の関数名を考えたときに、安易に「get～」としてしまいがちだが、一歩立ち止まってもっと適切な名前がないか考える
    - 「オブジェクトから値を取得する」：これだったら、**getVal()**がよいだろう
    - 「DBからデータを検索して**必ず検索対象の1件**を取得する」：**get**はDB取得等、別のところから情報を取得するときは適さない。この場合は**find**を使おう
    - 「DBからデータを検索して**N件**取得する」：**fetch～**
- 個人的に「tmp」は一時的な情報を格納するオブジェクトを定義するときによく使う。スコープをまたいで使ったりする場合は「tmp」は使わない！

- スコープを意識する：その変数は関数内のみだけで使うのか、メンバ変数やグローバル変数として使うのか？スコープの範囲が限定されていれば、「tmp」等の汎用的な名前をつけてもよい。（と思う）

```javascript
// APIからデータを取得（一時格納オブジェクトに格納）
const tmpResData: any = res?.data.payload.data;
```

- ループイテレータに以前は特に意識せず「**i,j**」とか使ってたが、「i」や「j」だけだと、バグに気づきにくい・意味合いも不適切、なのでもう書かないようにする。

> **2.4 名前に情報を追加する**（「リーダブルコード」p.19~22より）
- 「値の単位」については、ある程度「型」（int, float, double）で担保できる、と考えて「_ms」（ミリ秒）まで変数名にはこだわってないが…どこまでやっているだろう？
  - 時間などの場合はミリ秒なのか、秒なのか等、細部まで意識する必要があるので扱う値の範囲を表現できる変数名のほうがよさそう。

```javascript
const textCount : number = 40; // 整数(マイナスを含む)想定かなぁ・・・これだけだとわからない！
```

> **2.6 名前のフォーマットで情報を伝える**（「リーダブルコード」p.25~26より）
- 各プロジェクトにコーティング規約があれば、それに準拠する。（フォーマットも有効活用）
- Javaであれば：[Google Java Style Guide](https://kazurof.github.io/GoogleJavaStyle-ja/)を準拠しているプロジェクトは多いはず
  - クラス・インターフェース名 = UpperCamel（UserImpl）
  - メソッド名 = lowerCamel（findUserInfo）
  - 定数ではない変数（フィールド）名：lowerCamel（String userName）
  - 定数：CONSTANT_CASE
- HTMLタグのId, class指定はできてないプロジェクトもあるので統一したい

```html
<!-- 例：idの区切り文字にはアンダースコア, classの区切り文字はハイフン -->
<div id="middle_colomn" class="main-content">
```

## 第3章：誤解されない名前
> 名前が「他の意味と間違えられることはないだろうか？」と何度も自問自答する。（「リーダブルコード」p.30より）

> **3.1 例：filter()**（「リーダブルコード」p.30より）
- filterという関数名自体はJavaScriptの高階関数（関数を引数、戻り値として扱う関数）で使われていたりするのでさほど違和感なかった。

> **3.2 例：Clip(text, length)**（「リーダブルコード」p.30~31より）
- 最大文字数を表現する際、安易に「**max_length**」と使ってしまったことがあったが、文字数であれば「**max_chars**」としたほうが適切だったなぁと自戒
  - （バイト数のcountではないよ、と明確にするのがいいかも）
  - 最大バイト数等も考慮するケースにおいては、明確に「最大バイト数」（max_bytes）「最大文字数」（max_chars）としたほうが良い気がする。

> **3.3 限界値を含めるときはminとmaxを使う**
  **3.4 範囲を指定するときはfirstとlastを使う**（「リーダブルコード」p.31~32より）
- 最大、最小を表す際はmin,maxをつけることは意識していたが、範囲指定のときにfirst,lastを使うのは明示的で非常にわかりやすいと感じる。
  - 日付の範囲指定等には、「from」「to」をよく使う

> **3.6 ブール値の名前**（「リーダブルコード」p.33~34より）

- boolean値は「is～」等はつけているが、デフォルト値を「true」にするか、「false」にするかはいつも悩む・・・
  - フラグ値をONにするのか、はじめからONになっているものをOFFにするのか・・・結構混在するかも。
- 「is,has,can,should」をつけるとわかりやすい
- **名前には否定形ではなく、肯定形**

【参考】
>うまくメソッド名を付けるための参考情報：https://qiita.com/KeithYokoma/items/2193cf79ba76563e3db6

## 第1~3章 まとめ
リーダブルコード、普段は本棚に置きっぱなしで・・・今回、輪読会をするにあたり、久しぶりに読んでみると気づきが多くありました。

- 常に他人が読みやすいコードを意識して、見やすさ・わかりやすさを重視する
- コメント等を補足し、理解する時間を早められるように努力する
- 「**名前**」は重要。名前から得られる情報は多いので、変数名・クラス名・メソッド名etc・・・それぞれの名前づけをより意識する

次の記事では、第3~6章のメモを書いていこうと思います。
